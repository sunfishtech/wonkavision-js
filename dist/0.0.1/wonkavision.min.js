/*  wonkavision.js, version 0.0.1

Copyright (c) 2011 [your name here]

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
------------------------------------------------------------------*/
(function(){var d=function(c,a){return function(){return c.apply(a,arguments)}};this.Wonkavision=function(){function c(){}c.Client=function(){function a(a){a==null&&(a={});this.url=a.url||"";this.facts={};this.aggregations={}}a.prototype.query=function(a){a==null&&(a={});return new c.Query(this,a)};a.prototype.execute=function(a,e){var f,j,h;j=e.raw;h=d(function(f){f=j?f:new c.Cellset(f.json,a);return e.success(f)},this);f=e.error||function(){};this.get("query/"+a.cubeName+"/"+a.aggregationName,a.toParams(),
h,f);return this};a.prototype.get=function(a,e,f,j){this.url.substr(-1);return c.Remote.get(this.url+a,{data:e,success:f,error:j})};return a}();return c}();this.Wonkavision.AXIS_NAMES=["columns","rows","pages","chapters","sections"]}).call(this);
(function(){var d;this.Wonkavision.Remote=d=function(){function c(){}c.prototype.xhr=function(a){a=this.createSettings(a.url,a);a.ajax=a.xhr();if(a.ajax)return this.prepareUrl(a),a.ajax.open(a.type,a.url,a.async),a.ajax.send(a.data||null),this.httpData(a)};c.prototype.prepareUrl=function(a){if(a.type==="GET"&&a.data)return a.url+=/\?/.test(a.url)?"&":"?",a.url+=this.toParams(a.data),a.data=null};c.prototype.createSettings=function(a,b){b==null&&(b={});return{url:a,data:b.data||"",success:b.success||
function(){},error:b.error||function(){},type:b.type||"GET",async:b.async||!0,xhr:function(){return new window.XMLHttpRequest}}};c.prototype.toParams=function(a){var b,e,f;a==null&&(a={});e=[];for(b in a)f=a[b],e.push(""+b+"="+f);return encodeURI(e.join("&"))};c.prototype.httpData=function(a){return a.ajax.onreadystatechange=function(){var b;if(a.ajax.readyState===4){try{b=JSON.parse(a.ajax.responseText)}catch(e){console.log("Could not parse response ("+a.ajax.responseText+") as JSON:"+e)}b={xml:a.ajax.responseXML,
text:a.ajax.responseText,json:b};/(2..)/.test(a.ajax.status)?a.success.call(a.ajax,b):(console.log("There was an error processing a Wonkavision data request:"+a.ajax.statusText),a.error&&a.error.call(null,a.ajax.statusText));return b}else return null}};return c}();this.Wonkavision.Remote.ajax=function(c){return(new d).xhr(c)};this.Wonkavision.Remote.get=function(c,a){a.url=c;return(new d).xhr(a)};this.Wonkavision.Remote.post=function(c,a){a.url=c;a.type="POST";return(new d).xhr()}}).call(this);
(function(){var d;this.Wonkavision.Filter=d=function(){function c(a,b){this.name=a;b==null&&(b={});this.operator=b.operator||"eq";this.memberType=b.memberType||"dimension";this.value=b.value;this.attributeName=b.attributeName||(this.isDimension?"key":"count");this.operators=["eq","ne","gt","gte","lt","lte","in","nin"]}c.prototype.isDimension=function(){return this.memberType==="dimension"};c.prototype.isMeasure=function(){return this.memberType==="measure"};c.prototype.toString=function(){return[this.memberType,
this.name,this.attributeName,this.operator,this.value.toString()].join("::")};c.prototype.parse=function(a,b){var e;b==null&&(b="::");e=a.split(b);if(e[0]==="dimension"||e[0]==="measure")this.memberType=e.shift();this.name=e.shift();this.attributeName=e.shift()||this.attributeName;this.operator=e.shift()||this.operator;this.value=e.shift()||this.value;return this};c.prototype.withValue=function(a){this.value=a;return this};return c}();this.Wonkavision.Filter.parse=function(c,a){a==null&&(a="::");
return(new d("")).parse(c,a)}}).call(this);
(function(){var d,c=Array.prototype.slice,a=function(a,e){return function(){return a.apply(e,arguments)}};d=this.Wonkavision.Filter;this.Wonkavision.Query=function(){function b(a,b){var c,d,i,g;this.client=a;b==null&&(b={});g=Wonkavision.AXIS_NAMES;d=0;for(i=g.length;d<i;d++)c=g[d],this[c]=this.select(c);this.listDelimiter=b.listDelimiter||"|";this.axes=[];this.filters=[];this.selectedMeasures=[];g=Wonkavision.AXIS_NAMES;d=0;for(i=g.length;d<i;d++)if(c=g[d],b[c]!=null)this[c](b[c]);b.measures!=null&&
this.measures(b.measures);b.where!=null&&this.where(b.where);b.from!=null&&this.from(b.from);b.cube!=null&&this.cube(b.cube);b.aggregation!=null&&this.aggregation(b.aggregation)}b.prototype.cube=function(a){this.cubeName=a;return this};b.prototype.aggregation=function(a){this.aggregationName=a;return this};b.prototype.from=function(a,b){b==null&&(b=a);this.cubeName=a;this.aggregationName=b;return this};b.prototype.measures=function(){var a;a=1<=arguments.length?c.call(arguments,0):[];this.selectedMeasures=
this.selectedMeasures.concat(_.flatten(a));return this};b.prototype.where=function(a){var b,c;a==null&&(a={});this.filters=this.filters.concat(function(){var h;h=[];for(b in a)c=a[b],h.push(d.parse(b,".").withValue(c));return h}());return this};b.prototype.toParams=function(){var a,b,c,d,i,g;c={measures:this.selectedMeasures.join(this.listDelimiter),filters:function(){var a,g,c,e;c=this.filters;e=[];a=0;for(g=c.length;a<g;a++)b=c[a],e.push(b.toString());return e}.call(this).join(this.listDelimiter)};
g=Wonkavision.AXIS_NAMES;d=0;for(i=g.length;d<i;d++)a=g[d],this.getAxis(a)&&(c[a]=this.getAxis(a).join(this.listDelimiter));return c};b.prototype.toString=function(){return toHash().toString()};b.prototype.execute=function(a){a==null&&(a={});return this.client.execute(this,a)};b.prototype.getAxis=function(a){return this.axes[Wonkavision.AXIS_NAMES.indexOf(a)]};b.prototype.select=function(b){return a(function(){var a,d;a=1<=arguments.length?c.call(arguments,0):[];d=Wonkavision.AXIS_NAMES.indexOf(b);
d>=0&&(this.axes.length>d&&(a=this.axes[d].concat(a)),this.axes[d]=_.flatten(a));return this},this)};return b}()}).call(this);
(function(){var d,c,a,b,e=function(a,g){return function(){return a.apply(g,arguments)}},f=Array.prototype.slice,j=Object.prototype.hasOwnProperty,h=function(a,g){function b(){this.constructor=a}for(var c in g)j.call(g,c)&&(a[c]=g[c]);b.prototype=g.prototype;a.prototype=new b;a.__super__=g.prototype;return a};this.Wonkavision.PivotTable=b=function(){function a(g,b){var c,d,f,j,h,l,k,r,t;this.cellset=g;b==null&&(b={});_.bindAll(this,"cellValues","cellValue");this.axes=_.map(this.cellset.axes,e(function(b){return this[b.name]=
new a.Axis(b.name,b.dimensions.slice(0),this)},this));this.measuresAxis=b.measuresAxis||b.measuresOn||"columns";this.initializeAxes();this.seriesCells={};k=this.cellset.cells;for(f in k){d=k[f];r=this.axes;h=0;for(l=r.length;h<l;h++)c=r[h],c.registerCell(d);if(this.seriesDimension!=null)c=d.key[this.seriesDimension.keyIndex],c=(j=this.seriesCells)[c]||(j[c]=[]),c.push(d)}console.debug(this);this.measuresAxis!=null&&(t=this[this.measuresAxis])!=null&&t.appendMeasures();(this.rows==null||this.rows.isEmpty)&&
this.pivot()}a.prototype.initializeAxes=function(){var a,b,c,e,d;e=this.axes;d=[];b=0;for(c=e.length;b<c;b++)a=e[b],d.push(a.initialize());return d};a.prototype.pivot=function(){var a;a=this.rows;this.rows=this.columns;return this.columns=a};a.prototype.cellValues=function(a){var b;b=_.isArray(a)?_.last(a):a;return this.columns&&!this.columns.isEmpty?_.map(this.columns.members.nonEmpty().leaves(),e(function(a){return this.cellValue(b,a)},this)):[this.cellValue(b)]};a.prototype.cellValue=function(){return this.extractValue(1<=
arguments.length?f.call(arguments,0):[])};a.prototype.extractValue=function(a,b){var c;c=this.cellset.cells[_.flatten(_.map(_.sortBy(_.compact(a),function(a){return a.keyIndex}),function(a){return a.cellKey()}))];if(c!=null)return b=b||this.findMeasureName(a)||this.cellset.measureNames[0],c[b].value};a.prototype.findMeasureName=function(a){var b;return(b=_.find(a,function(a){return(a!=null?a.measureName:void 0)!=null}))!=null?b.measureName:void 0};return a}();this.Wonkavision.ChartTable=function(){function a(b,
c){c==null&&(c={});_.bindAll(this,"cellValues","cellValue");this.seriesSource=c.seriesSource||c.seriesFrom||(b.measureNames.length>1?"measures":"rows");a.__super__.constructor.call(this,b,c)}h(a,b);a.prototype.initializeAxes=function(){this.xAxisDimension=this.columns.dimensions.pop();this.seriesDimension=this.seriesSource!=="measures"&&this[this.seriesSource]!=null?this[this.seriesSource].dimensions.pop():void 0;if(this.seriesSource==="measures")this.measuresAxis=null;return a.__super__.initializeAxes.call(this)};
a.prototype.cellValue=function(){var a,b;a=1<=arguments.length?f.call(arguments,0):[];if(this.seriesSource==="measures")return _.map(this.cellset.measureNames,e(function(b){return{name:b,data:this.seriesFromMeasure(a,b)}},this));else if(this.seriesDimension!=null)return b=_.filter(this.seriesDimension.members,e(function(a){return this.seriesCells[a.key]!=null},this)),_.map(b,e(function(b){return{name:b.caption,data:this.seriesFromMember(a,b)}},this))};a.prototype.seriesFromMeasure=function(a,b){return _.map(this.xAxisDimension.members,
e(function(e){var f;f=c.fromDimensionMember(e);f=new d(b,f);f=a.concat([f]);return{x:e.key,y:this.extractValue(f,b)}},this))};a.prototype.seriesFromMember=function(a,b){var d;d=c.fromDimensionMember(b);return _.map(this.xAxisDimension.members,e(function(b){var e;e=c.fromDimensionMember(b);e=a.concat([d,e]);return{x:b.key,y:this.extractValue(e)}},this))};return a}();this.Wonkavision.PivotTable.Axis=function(){function b(c,e,d){this.name=c;this.dimensions=e;this.pivotTable=d;this.members=new a}b.prototype.initialize=
function(){if(!(this.isEmpty=this.dimensions.length<1))return this.startIndex=this.dimensions[0].keyIndex,this.endIndex=this.startIndex+this.dimensions.length-1,this.initLevels()};b.prototype.initLevels=function(a,b){var e,d,f,i,j,h,k;a==null&&(a=[]);b==null&&(b=this);d=a.length;if(d<this.dimensions.length){h=this.dimensions[d].members;k=[];i=0;for(j=h.length;i<j;i++)f=h[i],f.isEmpty=!0,e=a.slice(0),e.push(f.key),f=b.members.push(new c(e,b,d+this.startIndex,f)),k.push(this.initLevels(e,f));return k}};
b.prototype.registerCell=function(a){var b;if(!a.empty&&!this.isEmpty)return b=a.key.slice(this.startIndex,this.startIndex+1||9E9),b=this.members.get(b),b.registerCell(a)};b.prototype.appendMeasures=function(){return this.members.appendMeasures(this.pivotTable.cellset)};return b}();this.Wonkavision.PivotTable.Member=c=function(){function b(c,e,d,f){var i;this.key=c;this.parent=e;this.keyIndex=d;this.member=f;this.axis=((i=this.parent)!=null?i.axis:void 0)!=null?this.parent.axis:this.parent;this.caption=
this.member.caption;this.depth=this.axis?this.keyIndex-this.axis.startIndex:0;this.isEmpty=!0;this.isLeaf=this.axis?this.keyIndex===this.axis.endIndex:0;if(!this.isLeaf)this.members=new a}b.prototype.cellKey=function(){return this.key};b.prototype.leaves=function(a){a==null&&(a=!1);return this.isLeaf?[this]:this.members.leaves(a)};b.prototype.registerCell=function(a){var b;this.isEmpty=!1;this.member.isEmpty=!1;if(!this.isLeaf)return b=this.keyIndex+1,b=a.key.slice(this.axis.startIndex,b+1||9E9),
b=this.members.get(b),b.registerCell(a)};return b}();this.Wonkavision.PivotTable.Member.fromDimensionMember=function(a){return new c([a.key],null,a.dimension.keyIndex,a)};this.Wonkavision.PivotTable.MeasureMember=d=function(){function a(b,c){this.measureName=b;this.key=c.key.concat(["@"+b]);this.parent=c;this.axis=c.axis;this.caption=b;this.depth=c.depth+1;this.isEmpty=c.isEmpty;this.isLeaf=!0;c.isLeaf=!1;this.isMeasure=!0;this.keyIndex=c.keyIndex}h(a,c);a.prototype.cellKey=function(){return this.key.slice(0,
-1)};return a}();this.Wonkavision.PivotTable.MemberCollection=a=function(){function a(b,c){b==null&&(b=[]);this.isNonEmpty=c!=null?c:!1;this.members=[];this.length=0;_.each(b,e(function(a){return this.push(a)},this))}a.prototype.get=function(a){return _.find(this.members,function(b){return b.key.toString()===a.toString()})};a.prototype.push=function(a){this.invalidateCache();this.length+=1;this.members.push(a);return a};a.prototype.each=function(a){return _.each(this.members,a)};a.prototype.map=function(a){return _.each(this.members,
a)};a.prototype.nonEmpty=function(){return new a(_.filter(this.members,function(a){return!a.isEmpty}),!0)};a.prototype.leaves=function(a){var b;if(a==null)a=this.isNonEmpty;if(this.leafCache==null)b=a?this.nonEmpty().members:this.members,this.leafCache=_.flatten(_.map(b,function(b){return b.leaves(a)}));return this.leafCache};a.prototype.at=function(a){return this.members[a]};a.prototype.toArray=function(){return this.members};a.prototype.flatten=function(a,b){b==null&&(b=[]);if(a==null)a=this.isNonEmpty;
this.map(function(c){if(!a||!c.isEmpty)if(b.push(c),!c.isLeaf)return c.members.flatten(a,b)});return b};a.prototype.partitionH=function(a){if(a==null)a=this.isNonEmpty;a=this.flatten(a);return _.reduce(a,function(a,b){var c,e;c=_.last(a);(e=_.last(c))&&e.depth>=b.depth?a.push([b]):c.push(b);return a},[[]])};a.prototype.partitionV=function(a){if(a==null)a=this.isNonEmpty;a=this.flatten(a);return _.reduce(a,function(a,b){var c;(a[c=b.depth]||(a[c]=[])).push(b);return a},[])};a.prototype.appendMeasures=
function(b){var c;c=b.measureNames;b=this.leaves();_.each(b,function(b){return b.members=new a(_.map(c,function(a){return new d(a,b)}))});return this.invalidateCache(!0)};a.prototype.invalidateCache=function(a){a==null&&(a=!1);this.leafCache=null;if(a)return this.each(function(a){if(a.members!=null)return a.members.invalidateCache()})};return a}()}).call(this);
(function(){this.Wonkavision.Member=function(){function d(c,a){this.dimension=c;this.key=a.key;this.caption=a.caption||this.key;this.sort=a.sort||this.key;this.attributes=a.attributes||{}}d.prototype.toString=function(){return key.toString()};d.prototype.toKey=function(){return key};return d}()}).call(this);
(function(){var d,c=function(a,b){return function(){return a.apply(b,arguments)}};d=this.Wonkavision.Member;this.Wonkavision.Dimension=function(){return function(a,b,e){this.axis=a;this.keyIndex=e;this.name=b.name;this.members=_.sortBy(_.map(b.members,c(function(a){return new d(this,a)},this)),function(a){return a.sort})}}()}).call(this);
(function(){var d;d=this.Wonkavision.Dimension;this.Wonkavision.Axis=function(){function c(a,b,c,f){this.name=a;this.cellset=b;this.startIndex=f;this.dimensions=[];this.dimensionNames=[];f=c.dimensions;b=0;for(c=f.length;b<c;b++)a=f[b],this.dimensions.push(new d(this,a,this.startIndex+b)),this.dimensionNames.push(a.name);this.endIndex=this.startIndex+this.dimensions.length-1}c.prototype.dimensionNames=function(){var a,b,c,d,j;d=this.dimensions;j=[];b=0;for(c=d.length;b<c;b++)a=d[b],j.push(a.name);
return j};return c}()}).call(this);(function(){this.Wonkavision.Measure=function(){function d(c){this.name=c.name;this.value=c.value;this.formattedValue=c.formatted_value||this.value.toString();this.calculated=c.calculated||!1;this.empty=!this.value}d.prototype.toString=function(){return this.formatted_value};return d}()}).call(this);
(function(){var d;d=this.Wonkavision.Measure;this.Wonkavision.Cell=function(){function c(a,b){var c,d,j,h;this.cellset=a;this.measures={};this.empty=!0;if(b){h=b.measures;d=0;for(j=h.length;d<j;d++)c=h[d],this.addMeasure(c);this.key=b.key}}c.prototype.addMeasure=function(a){var b;b=a.name;this[b]=new d(a);this.measures[b]=this[b];if(!this[b].empty)return this.empty=!1};return c}()}).call(this);
(function(){var d,c,a;c=this.Wonkavision.Cell;d=this.Wonkavision.Axis;a=this.Wonkavision.Filter;this.Wonkavision.Cellset=function(){function b(b,f){var j,h,i,g,o,m,s,p,q,n,l,k;b==null&&(b={});this.query=f!=null?f:null;this.aggregation=b.aggregation||null;p=b.slicer||[];o=b.filters||[];this.slicer=function(){var b,c,d;d=[];b=0;for(c=p.length;b<c;b++)g=p[b],d.push(a.parse(g));return d}();this.filters=function(){var b,c,d;d=[];b=0;for(c=o.length;b<c;b++)g=o[b],d.push(a.parse(g));return d}();this.totals=
new c(this,b.totals);this.measureNames=b.measure_names||[];q=0;this.axes=function(){var a,c;c=[];m=0;for(a=b.axes.length;0<=a?m<a:m>a;0<=a?m++:m--)h=b.axes[m],s=Wonkavision.AXIS_NAMES[m],j=new d(s,this,h,q),q=j.endIndex+1,c.push(j);return c}.call(this);this.cells={};k=b.cells||[];n=0;for(l=k.length;n<l;n++)i=k[n],this.cells[i.key]=new c(this,i);l=Wonkavision.AXIS_NAMES;i=0;for(n=l.length;i<n;i++)h=l[i],this[h]=this.axes[i]}b.prototype.cell=function(){var a;return this.cells[function(){var b,c,d;if(typeof a!==
"undefined"&&a!==null)return a.toString();else{d=[];b=0;for(c=arguments.length;b<c;b++)a=arguments[b],d.push(a);return d}}.apply(this,arguments)]||new c(this)};return b}()}).call(this);
(function(){var d=function(c,a){return function(){return c.apply(a,arguments)}};this.Wonkavision.PivotTableView=function(){function c(a){_.bindAll(this,"render","renderTable","renderColumnHeaders","renderTableData");this.extractArgs(a)}c.prototype.colorFor=function(a){var b;this.colorCache||(this.colorCache={});return(b=this.colorCache)[a]||(b[a]=this.palette.color())};c.prototype.render=function(a){this.extractArgs(a);this.pivot=this.viewType==="text"?new Wonkavision.PivotTable(this.data,a):new Wonkavision.ChartTable(this.data,
a);this.palette=new Rickshaw.Color.Palette({scheme:this.colorScheme});this.rows=this.pivot.rows.members.nonEmpty();this.columns=this.pivot.columns.members.nonEmpty();this.format=d3.format(this.cellFormat);return this.element.append("table").attr("class","wv-pivot-table").call(this.renderTable)};c.prototype.extractArgs=function(a){this.cellFormat=a.cellFormat||this.cellFormat||",.1f";if(a.data)this.data=a.data;if(a.element)this.element=d3.selectAll(a.element);this.colorScheme=a.palette||a.colorScheme||
this.colorScheme||"munin";this.graphArgs=_.defaults(a.graph||{},{width:300,height:300,renderer:"line"});this.xAxisArgs=a.xAxis||{};this.yAxisArgs=_.defaults(a.yAxis||{},{orientation:"left",tickFormat:Rickshaw.Fixtures.Number.formatKMBT});this.hoverArgs=a.hover||{};return this.viewType=a.viewType||a.view||this.detectViewType(a)};c.prototype.memberSpan=function(a){var b;return(b=a.members)!=null?b.nonEmpty().leaves().length:void 0};c.prototype.renderTable=function(a){this.table=a;this.pivot.columns!=
null&&!this.pivot.columns.isEmpty&&this.table.call(this.renderColumnHeaders);return this.table.call(this.renderTableData)};c.prototype.renderColumnHeaders=function(a){var b;b=this.columns.partitionV();a=a.append("thead").selectAll("tr.wv-col").data(b).enter().append("tr").attr("class","wv-col");b=this.pivot.rows.dimensions.length+(this.pivot.measuresAxis==="rows"?1:0);a.append("th").attr("colspan",b);return a.selectAll("td.wv-col-header").data(function(a){return a},function(a){return a.key.toString()}).enter().append("th").text(function(a){return a.caption}).attr("colspan",
d(function(a){return this.memberSpan(a)},this)).attr("class","wv-col-header")};c.prototype.renderTableData=function(a){var b,c;b=this.rows.partitionH();a=a.append("tbody").selectAll("tr.wv-row").data(b).enter().append("tr").attr("class","wv-row");a.selectAll("th.wv-row-header").data(function(a){return a},function(a){return a.key.toString()}).enter().append("th").text(function(a){return a.caption}).attr("rowspan",d(function(a){return this.memberSpan(a)},this)).attr("class","wv-row-header");c=this;
a=a.selectAll("td.wv-cell").data(this.pivot.cellValues).enter().append("td").attr("class","wv-cell");return this.viewType==="text"?a.text(function(a){return a!=null?c.format(a):"-"}):a.each(function(a,b){return c.renderGraph(a,b,this)})};c.prototype.renderGraph=function(a,b,c){_.map(a,d(function(a){a.color=this.colorFor(a.name);return _.map(a.data,d(function(a){a.x=moment(a.x).unix();return a.y=a.y||0},this))},this));c=d3.select(c).append("div").attr("class","wv-chart-container");b=c.append("div").attr("class",
"wv-chart");c=c.append("div").attr("class","wv-y-axis");a=new Rickshaw.Graph(_.extend(this.graphArgs,{element:b[0][0],series:a}));new Rickshaw.Graph.Axis.Time(_.extend(this.xAxisArgs,{graph:a}));new Rickshaw.Graph.Axis.Y(_.extend(this.yAxisArgs,{graph:a,element:c[0][0]}));new Rickshaw.Graph.HoverDetail(_.extend(this.hoverArgs,{graph:a}));return a.render()};c.prototype.detectViewType=function(a){return a.seriesSource!=null||a.seriesFrom!=null?"chart":"text"};return c}()}).call(this);
